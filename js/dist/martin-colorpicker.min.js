function makePicker(){var t=Martin();t.width(220),t.height(200),t.newLayer(),t.background("#fff");var e=t.colorpicker({r:255,g:0,b:0});t.indicator(),t.newLayer();var r=t.rect({color:"#666",x:t.width()-18,y:1,height:4,width:18,stroke:"#fff",strokeWidth:2});return r.bumpToTop(),t.mousemove(function(r){var a=t.height(),i={r:255*Math.cos(r.y/a*2*Math.PI)+127.5,g:255*Math.cos(r.y/a*2*Math.PI+2/3*Math.PI)+127.5,b:255*Math.cos(r.y/a*2*Math.PI+4/3*Math.PI)+127.5};e.data=i}),t}function showPicker(t){var e=makePicker();t.parentNode.insertBefore(e.canvas,t)}function loadPicker(){var t=document.getElementsByTagName("input");[].forEach.call(t,function(t){"martin-colorpicker"===t.getAttribute("data-type")&&showPicker(t)})}Martin.registerEffect("colorpicker",function(t){var e=t.r,r=t.g,a=t.b,i=this.base.width(),o=this.base.height();this.context.loop(function(t,n,h){return h.r=(255-e)*(i-20-t)/i+e,h.g=(255-r)*(i-20-t)/i+r,h.b=(255-a)*(i-20-t)/i+a,h.r-=255*n/o,h.g-=255*n/o,h.b-=255*n/o,h})}),Martin.registerEffect("indicator",function(t){var e=this.base.width(),r=this.base.height();this.context.loop(function(t,a,i){return t+20>e&&(i.r=255*Math.cos(a/r*2*Math.PI)+127.5,i.g=255*Math.cos(a/r*2*Math.PI+2/3*Math.PI)+127.5,i.b=255*Math.cos(a/r*2*Math.PI+4/3*Math.PI)+127.5),i})}),window.addEventListener("DOMContentLoaded",loadPicker);
//# sourceMappingURL=martin-colorpicker.min.js.map